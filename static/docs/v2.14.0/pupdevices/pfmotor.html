<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Power Functions &mdash; pybricks v3.4.0b3 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/requirements.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/blocks.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/ide.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/requirements.js"></script>
        <script src="../_static/js/ide.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Color Sensor" href="colorsensor.html" />
    <link rel="prev" title="Color and Distance Sensor" href="colordistancesensor.html" />
    <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #0088ce" >

          
          
          <a href="../index.html">
            
              <img src="../_static/pybricks-logo-rtd.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                v3.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Pybricks modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hubs/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hubs</span></code> – Built-in hub functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pupdevices</span></code> – Motors, sensors, lights</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dcmotor.html">Motors without rotation sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="motor.html">Motors with rotation sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiltsensor.html">Tilt Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="infraredsensor.html">Infrared Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="colordistancesensor.html">Color and Distance Sensor</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Power Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#control-a-power-functions-motor">Control a Power Functions motor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#controlling-multiple-power-functions-motors">Controlling multiple Power Functions motors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="colorsensor.html">Color Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="ultrasonicsensor.html">Ultrasonic Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="forcesensor.html">Force Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="colorlightmatrix.html">Color Light Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="light.html">Light</a></li>
<li class="toctree-l2"><a class="reference internal" href="remote.html">Remote Control</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../iodevices/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iodevices</span></code> – Custom devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parameters/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parameters</span></code> – Parameters and constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools</span></code> – General purpose tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robotics.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">robotics</span></code> – Robotics and drive bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../signaltypes.html">Signals and Units</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code with blocks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../blocks/index.html">Other blocks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MicroPython modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../micropython/builtins.html">Built-in classes and functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/exceptions.html">Exceptions and errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/micropython.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">micropython</span></code> – MicroPython internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/uerrno.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uerrno</span></code> – Error codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/uio.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uio</span></code> – Input/output streams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/ujson.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ujson</span></code> – JSON encoding and decoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/umath.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">umath</span></code> – Math functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/urandom.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">urandom</span></code> – Pseudo-random numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/uselect.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uselect</span></code> – Wait for events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/ustruct.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ustruct</span></code> – Pack and unpack binary data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/usys.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">usys</span></code> – System specific functions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #0088ce" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pybricks</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pupdevices</span></code> – Motors, sensors, lights</a></li>
      <li class="breadcrumb-item active">Power Functions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pupdevices/pfmotor.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toggle-header docutils container">
</div>
<div class="toggle-content docutils container">

        <div class="wy-table-responsive">
            <table class="docutils align-default requirements-table">
                <tbody>
                    <tr>
                        
        <th background="../_images/compat_movehub.png" class="requirements-table-th requirements-table-th">
        ✅
        </th>
        
        <th background="../_images/compat_cityhub.png" class="requirements-table-th requirements-table-th">
        ✅
        </th>
        
        <th background="../_images/compat_technichub.png" class="requirements-table-th requirements-table-th">
        ✅
        </th>
        
        <th background="../_images/compat_primehub.png" class="requirements-table-th requirements-table-th">
        ✅
        </th>
        
        <th background="../_images/compat_inventorhub.png" class="requirements-table-th requirements-table-th">
        ✅
        </th>
        
        <th background="../_images/compat_essentialhub.png" class="requirements-table-th requirements-table-th">
        ✅
        </th>
        
                    </tr>
                </tbody>
            </table>
        </div>
        </div>
<section id="power-functions">
<h1>Power Functions<a class="headerlink" href="#power-functions" title="Permalink to this heading">¶</a></h1>
<p>The <a class="reference internal" href="colordistancesensor.html#pybricks.pupdevices.ColorDistanceSensor" title="pybricks.pupdevices.ColorDistanceSensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColorDistanceSensor</span></code></a> can
send infrared signals to control Power Functions infrared receivers. You can
use this technique to control medium, large, extra large, and train
motors. The infrared range is limited to about 30 cm, depending on the angle
and ambient conditions.</p>
<figure class="align-default" id="id1">
<img alt="../_images/pupdevice-pfmotor.png" src="../_images/pupdevice-pfmotor.png" style="width: 95%;" />
<figcaption>
<p><span class="caption-number">Figure 3 </span><span class="caption-text">Powered Up
<a class="reference internal" href="colordistancesensor.html#pybricks.pupdevices.ColorDistanceSensor" title="pybricks.pupdevices.ColorDistanceSensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColorDistanceSensor</span></code></a>
(left), Power Functions infrared receiver (middle), and a Power Functions
motor (right). Here, the receiver uses channel
1 with a motor on the red port.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><img alt="../_images/pybricks_variables_set_pf_motor.svg" class="block-image" height="52px" src="../_images/pybricks_variables_set_pf_motor.svg" width="507px" /></p>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PFMotor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Direction.CLOCKWISE</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Control Power Functions motors with the infrared functionality of the
<a class="reference internal" href="colordistancesensor.html#pybricks.pupdevices.ColorDistanceSensor" title="pybricks.pupdevices.ColorDistanceSensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColorDistanceSensor</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sensor</strong> (<a class="reference internal" href="colordistancesensor.html#pybricks.pupdevices.ColorDistanceSensor" title="pybricks.pupdevices.ColorDistanceSensor"><em>ColorDistanceSensor</em></a>) – Sensor object.</p></li>
<li><p><strong>channel</strong> (<a class="reference internal" href="../micropython/builtins.html#ubuiltins.int" title="ubuiltins.int"><em>int</em></a>) – Channel number of the receiver: <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">2</span></code>, <code class="docutils literal notranslate"><span class="pre">3</span></code>, or <code class="docutils literal notranslate"><span class="pre">4</span></code>.</p></li>
<li><p><strong>color</strong> (<a class="reference internal" href="../parameters/color.html#pybricks.parameters.Color" title="pybricks.parameters.Color"><em>Color</em></a>) – Color marker on the receiver:
<a class="reference internal" href="../parameters/color.html#pybricks.parameters.Color" title="pybricks.parameters.Color"><code class="xref py py-class docutils literal notranslate"><span class="pre">Color.BLUE</span></code></a> or
<a class="reference internal" href="../parameters/color.html#pybricks.parameters.Color" title="pybricks.parameters.Color"><code class="xref py py-class docutils literal notranslate"><span class="pre">Color.RED</span></code></a></p></li>
<li><p><strong>positive_direction</strong> (<a class="reference internal" href="../parameters/direction.html#Direction" title="Direction"><em>Direction</em></a>) – Which direction the motor should
turn when you give a positive duty cycle value.</p></li>
</ul>
</dd>
</dl>
<p><img alt="../_images/pybricks_blockMotorDuty_PFMotor.svg" class="block-image" height="51px" src="../_images/pybricks_blockMotorDuty_PFMotor.svg" width="380px" /></p>
<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><a class="reference internal" href="../tools/index.html#pybricks.tools.await" title="pybricks.tools.await"><span class="pre">await</span></a></em><span class="sig-name descname"><span class="pre">dc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duty</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Rotates the motor at a given duty cycle (also known as “power”).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>duty</strong> (<a class="reference internal" href="../signaltypes.html#numbers"><em>Number</em></a><em>, </em><em>%</em>) – The duty cycle (-100.0 to 100).</p>
</dd>
</dl>
</dd></dl>

<p><img alt="../_images/pybricks_blockMotorStop_PFMotor_coast.svg" class="block-image" height="47px" src="../_images/pybricks_blockMotorStop_PFMotor_coast.svg" width="279px" /></p>
<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><a class="reference internal" href="../tools/index.html#pybricks.tools.await" title="pybricks.tools.await"><span class="pre">await</span></a></em><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Stops the motor and lets it spin freely.</p>
<p>The motor gradually stops due to friction.</p>
</dd></dl>

<p><img alt="../_images/pybricks_blockMotorStop_PFMotor_brake.svg" class="block-image" height="47px" src="../_images/pybricks_blockMotorStop_PFMotor_brake.svg" width="279px" /></p>
<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><a class="reference internal" href="../tools/index.html#pybricks.tools.await" title="pybricks.tools.await"><span class="pre">await</span></a></em><span class="sig-name descname"><span class="pre">brake</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Passively brakes the motor.</p>
<p>The motor stops due to friction, plus the voltage that
is generated while the motor is still moving.</p>
</dd></dl>

</dd></dl>

<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<section id="control-a-power-functions-motor">
<h3>Control a Power Functions motor<a class="headerlink" href="#control-a-power-functions-motor" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pybricks.pupdevices</span> <span class="kn">import</span> <span class="n">ColorDistanceSensor</span><span class="p">,</span> <span class="n">PFMotor</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span><span class="p">,</span> <span class="n">Color</span>
<span class="kn">from</span> <span class="nn">pybricks.tools</span> <span class="kn">import</span> <span class="n">wait</span>

<span class="c1"># Initialize the sensor.</span>
<span class="n">sensor</span> <span class="o">=</span> <span class="n">ColorDistanceSensor</span><span class="p">(</span><span class="n">Port</span><span class="o">.</span><span class="n">B</span><span class="p">)</span>

<span class="c1"># Initialize a motor on channel 1, on the red output.</span>
<span class="n">motor</span> <span class="o">=</span> <span class="n">PFMotor</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="p">)</span>

<span class="c1"># Rotate and then stop.</span>
<span class="n">motor</span><span class="o">.</span><span class="n">dc</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">wait</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">motor</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="n">wait</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>

<span class="c1"># Rotate the other way at half speed, and then stop.</span>
<span class="n">motor</span><span class="o">.</span><span class="n">dc</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">)</span>
<span class="n">wait</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">motor</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="controlling-multiple-power-functions-motors">
<h3>Controlling multiple Power Functions motors<a class="headerlink" href="#controlling-multiple-power-functions-motors" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pybricks.pupdevices</span> <span class="kn">import</span> <span class="n">ColorDistanceSensor</span><span class="p">,</span> <span class="n">PFMotor</span>
<span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span><span class="p">,</span> <span class="n">Color</span><span class="p">,</span> <span class="n">Direction</span>
<span class="kn">from</span> <span class="nn">pybricks.tools</span> <span class="kn">import</span> <span class="n">wait</span>

<span class="c1"># Initialize the sensor.</span>
<span class="n">sensor</span> <span class="o">=</span> <span class="n">ColorDistanceSensor</span><span class="p">(</span><span class="n">Port</span><span class="o">.</span><span class="n">B</span><span class="p">)</span>

<span class="c1"># You can use multiple motors on different channels.</span>
<span class="n">arm</span> <span class="o">=</span> <span class="n">PFMotor</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Color</span><span class="o">.</span><span class="n">BLUE</span><span class="p">)</span>
<span class="n">wheel</span> <span class="o">=</span> <span class="n">PFMotor</span><span class="p">(</span><span class="n">sensor</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="p">,</span> <span class="n">Direction</span><span class="o">.</span><span class="n">COUNTERCLOCKWISE</span><span class="p">)</span>

<span class="c1"># Accelerate both motors. Only these values are available.</span>
<span class="c1"># Other values will be rounded down to the nearest match.</span>
<span class="k">for</span> <span class="n">duty</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">]:</span>
    <span class="n">arm</span><span class="o">.</span><span class="n">dc</span><span class="p">(</span><span class="n">duty</span><span class="p">)</span>
    <span class="n">wheel</span><span class="o">.</span><span class="n">dc</span><span class="p">(</span><span class="n">duty</span><span class="p">)</span>
    <span class="n">wait</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>

<span class="c1"># To make the signal more reliable, there is a short</span>
<span class="c1"># pause between commands. So, they change speed and</span>
<span class="c1"># stop at a slightly different time.</span>

<span class="c1"># Brake both motors.</span>
<span class="n">arm</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
<span class="n">wheel</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>