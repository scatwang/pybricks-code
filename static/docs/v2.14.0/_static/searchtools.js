"use strict";if("undefined"===typeof Scorer)var Scorer={objNameMatch:11,objPartialMatch:6,objPrio:{0:15,1:5,2:-5},objPrioDefault:0,title:15,partialTitle:7,term:5,partialTerm:2};const _removeChildren=e=>{for(;e&&e.lastChild;)e.removeChild(e.lastChild)},_escapeRegExp=e=>e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),_displayItem=(e,t,r)=>{const a=DOCUMENTATION_OPTIONS.BUILDER,n=DOCUMENTATION_OPTIONS.URL_ROOT,c=DOCUMENTATION_OPTIONS.FILE_SUFFIX,s=DOCUMENTATION_OPTIONS.LINK_SUFFIX,o=DOCUMENTATION_OPTIONS.SHOW_SEARCH_SUMMARY,[i,l,h,d]=e;let u,m,S=document.createElement("li");if("dirhtml"===a){let e=i+"/";e.match(/\/index\/$/)?e=e.substring(0,e.length-6):"index/"===e&&(e=""),u=n+e,m=u}else u=n+i+c,m=i+s;const p=new URLSearchParams;p.set("highlight",[...t].join(" "));let f=S.appendChild(document.createElement("a"));f.href=m+"?"+p.toString()+h,f.innerHTML=l,d?S.appendChild(document.createElement("span")).innerText=" ("+d+")":o&&fetch(u).then((e=>e.text())).then((e=>{e&&S.appendChild(Search.makeSearchSummary(e,r,t))})),Search.output.appendChild(S)},_finishSearch=e=>{Search.stopPulse(),Search.title.innerText=_("Search Results"),Search.status.innerText=e?_(`Search finished, found ${e} page(s) matching the search query.`):Documentation.gettext("Your search did not match any documents. Please make sure that all words are spelled correctly and that you've selected enough categories.")},_displayNextItem=(e,t,r,a)=>{e.length?(_displayItem(e.pop(),r,a),setTimeout((()=>_displayNextItem(e,t,r,a)),5)):_finishSearch(t)};if("undefined"===typeof splitQuery)var splitQuery=e=>e.split(/[^\p{Letter}\p{Number}_\p{Emoji_Presentation}]+/gu).filter((e=>e));const Search={_index:null,_queued_query:null,_pulse_status:-1,htmlToText:e=>{const t=document.createRange().createContextualFragment(e);_removeChildren(t.querySelectorAll(".headerlink"));const r=t.querySelector('[role="main"]');return void 0!==r?r.textContent:(console.warn("Content block not found. Sphinx search tries to obtain it via '[role=main]'. Could you check your theme or template."),"")},init:()=>{const e=new URLSearchParams(window.location.search).get("q");document.querySelectorAll('input[name="q"]').forEach((t=>t.value=e)),e&&Search.performSearch(e)},loadIndex:e=>document.body.appendChild(document.createElement("script")).src=e,setIndex:e=>{if(Search._index=e,null!==Search._queued_query){const e=Search._queued_query;Search._queued_query=null,Search.query(e)}},hasIndex:()=>null!==Search._index,deferQuery:e=>Search._queued_query=e,stopPulse:()=>Search._pulse_status=-1,startPulse:()=>{if(Search._pulse_status>=0)return;const e=()=>{Search._pulse_status=(Search._pulse_status+1)%4,Search.dots.innerText=".".repeat(Search._pulse_status),Search._pulse_status>=0&&window.setTimeout(e,500)};e()},performSearch:e=>{const t=document.createElement("h2");t.textContent=_("Searching");const r=document.createElement("p");r.classList.add("search-summary"),r.innerText="";const a=document.createElement("ul");a.classList.add("search");const n=document.getElementById("search-results");Search.title=n.appendChild(t),Search.dots=Search.title.appendChild(document.createElement("span")),Search.status=n.appendChild(r),Search.output=n.appendChild(a);const c=document.getElementById("search-progress");c&&(c.innerText=_("Preparing search...")),Search.startPulse(),Search.hasIndex()?Search.query(e):Search.deferQuery(e)},query:e=>{const t=new Stemmer,r=new Set,a=new Set,n=new Set,c=new Set(splitQuery(e.toLowerCase().trim()));splitQuery(e.trim()).forEach((e=>{const c=e.toLowerCase();if(-1!==stopwords.indexOf(c)||e.match(/^\d+$/))return;let s=t.stemWord(c);"-"===s[0]?a.add(s.substr(1)):(r.add(s),n.add(c))}));let s=[];_removeChildren(document.getElementById("search-progress")),c.forEach((e=>s.push(...Search.performObjectSearch(e,c)))),s.push(...Search.performTermsSearch(r,a)),Scorer.score&&s.forEach((e=>e[4]=Scorer.score(e))),s.sort(((e,t)=>{const r=e[4],a=t[4];if(r===a){const r=e[1].toLowerCase(),a=t[1].toLowerCase();return r===a?0:r>a?-1:1}return r>a?1:-1}));let o=new Set;s=s.reverse().reduce(((e,t)=>{let r=t.slice(0,4).concat([t[5]]).map((e=>String(e))).join(",");return o.has(r)||(e.push(t),o.add(r)),e}),[]),s=s.reverse(),_displayNextItem(s,s.length,n,r)},performObjectSearch:(e,t)=>{const r=Search._index.filenames,a=Search._index.docnames,n=Search._index.objects,c=Search._index.objnames,s=Search._index.titles,o=[];return Object.keys(n).forEach((i=>n[i].forEach((n=>((n,i)=>{const l=i[4],h=(n?n+".":"")+l,d=h.toLowerCase();if(d.indexOf(e)<0)return;let u=0;const m=d.split(".");d===e||m.slice(-1)[0]===e?u+=Scorer.objNameMatch:m.slice(-1)[0].indexOf(e)>-1&&(u+=Scorer.objPartialMatch);const S=c[i[1]][2],p=s[i[0]],f=new Set(t);if(f.delete(e),f.size>0){const e=`${n} ${l} ${S} ${p}`.toLowerCase();if([...f].some((t=>e.indexOf(t)<0)))return}let x=i[3];""===x?x=h:"-"===x&&(x=c[i[1]][1]+"-"+h);const y=S+_(", in ")+p;Scorer.objPrio.hasOwnProperty(i[2])?u+=Scorer.objPrio[i[2]]:u+=Scorer.objPrioDefault,o.push([a[i[0]],h,"#"+x,y,u,r[i[0]]])})(i,n))))),o},performTermsSearch:(e,t)=>{const r=Search._index.terms,a=Search._index.titleterms,n=Search._index.docnames,c=Search._index.filenames,s=Search._index.titles,o=new Map,i=new Map;e.forEach((e=>{const t=[],n=[{files:r[e],score:Scorer.term},{files:a[e],score:Scorer.title}];if(e.length>2){const t=_escapeRegExp(e);Object.keys(r).forEach((a=>{a.match(t)&&!r[e]&&n.push({files:r[a],score:Scorer.partialTerm})})),Object.keys(a).forEach((r=>{r.match(t)&&!a[e]&&n.push({files:a[e],score:Scorer.partialTitle})}))}n.every((e=>void 0===e.files))||(n.forEach((r=>{if(void 0===r.files)return;let a=r.files;void 0===a.length&&(a=[a]),t.push(...a),a.forEach((t=>{o.has(t)||o.set(t,{}),o.get(t)[e]=r.score}))})),t.forEach((t=>{i.has(t)&&-1===i.get(t).indexOf(e)?i.get(t).push(e):i.set(t,[e])})))}));const l=[];for(const[h,d]of i){const i=[...e].filter((e=>e.length>2)).length;if(d.length!==e.size&&d.length!==i)continue;if([...t].some((e=>r[e]===h||a[e]===h||(r[e]||[]).includes(h)||(a[e]||[]).includes(h))))break;const u=Math.max(...d.map((e=>o.get(h)[e])));l.push([n[h],s[h],"",null,u,c[h]])}return l},makeSearchSummary:(e,t,r)=>{const a=Search.htmlToText(e).toLowerCase();if(""===a)return null;const n=[...t].map((e=>a.indexOf(e.toLowerCase()))).filter((e=>e>-1)).slice(-1)[0],c=Math.max(n-120,0),s=0===c?"":"...",o=c+240<a.length?"...":"";let i=document.createElement("div");return i.classList.add("context"),i.innerText=s+a.substr(c,240).trim()+o,r.forEach((e=>_highlightText(i,e,"highlighted"))),i}};_ready(Search.init);