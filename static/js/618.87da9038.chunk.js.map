{"version":3,"file":"static/js/618.87da9038.chunk.js","mappings":"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","sources":["editor/logo.svg","editor/Welcome.tsx","editor/i18n.ts","editor/untitledHint.ts","editor/Editor.tsx","editor/translations|lazy-once|/^/.//.*/.json$/|chunkName: i18n_1nkaw6a-i18n|groupOptions: {}|namespace object"],"sourcesContent":["var _g;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nconst SvgLogo = (_ref, ref) => {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 26.458 26.458\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0,-270.54)\",\n    fill: \"#ffffff\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 8.4499,\n    cy: 281.03,\n    rx: 1.7076,\n    ry: 1.7064\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 18.033,\n    cy: 281.03,\n    rx: 1.7076,\n    ry: 1.7064\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1.9234 276.13c-1.0655 0-1.9234 0.85655-1.9234 1.9213v10.588c0 1.0648 0.85787 1.9213 1.9234 1.9213h3.3755c1.0655 0 1.9234-0.85653 1.9234-1.9213v-0.47646h12.014v0.47646c0 1.0648 0.85787 1.9213 1.9234 1.9213h3.3755c1.0655 0 1.9234-0.85653 1.9234-1.9213v-10.588c0-1.0648-0.85786-1.9213-1.9234-1.9213h-3.3755c-5.4826 0.0358-11.132 0.0125-15.861 0zm0.49609 2.4123h21.644v9.617h-2.3978v-2.3916h-2.0691v-0.89193h-0.74311v0.89193h-1.664v-0.89193h-0.74001v0.89193h-1.664v-0.89193h-0.74001v0.89193h-1.664v-0.89193h-0.74311v0.89193h-1.664v-0.89193h-0.74104v0.89193h-1.664v-0.89193h-0.68316v0.89193h-2.0691v2.3916h-2.3978v-3.2835z\"\n  }))));\n};\nconst ForwardRef = /*#__PURE__*/forwardRef(SvgLogo);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"static/media/logo.631fa58c772b5ad095977e19acdf8776.svg\";","// SPDX-License-Identifier: MIT\n// Copyright (c) 2022-2023 The Pybricks Authors\n\n// welcome screen that is shown when no editor is open.\n\nimport { Colors } from '@blueprintjs/core';\nimport React, { useEffect, useRef } from 'react';\nimport Two from 'two.js';\nimport { useTernaryDarkMode } from 'usehooks-ts';\nimport logoSvg from './logo.svg';\n\nconst defaultRotation = -Math.PI / 9; // radians\nconst rotationSpeedIncrement = 0.1; // radians per second\n\ntype State = {\n    rotation: number;\n    rotationSpeed: number;\n};\n\nenum ActionType {\n    Stop,\n    ChangeSpeed,\n    Update,\n}\n\ntype Action =\n    | {\n          type: ActionType.Stop;\n      }\n    | {\n          type: ActionType.ChangeSpeed;\n          amount: number;\n      }\n    | {\n          type: ActionType.Update;\n          timeDelta: number;\n      };\n\nfunction reduce(state: State, action: Action): State {\n    switch (action.type) {\n        case ActionType.Stop:\n            return { ...state, rotation: state.rotation, rotationSpeed: 0 };\n        case ActionType.ChangeSpeed:\n            return { ...state, rotationSpeed: state.rotationSpeed + action.amount };\n        case ActionType.Update:\n            return {\n                ...state,\n                rotation: state.rotation + state.rotationSpeed * action.timeDelta,\n            };\n        default:\n            return state;\n    }\n}\n\nfunction getFillColor(isDarkMode: boolean): string {\n    return isDarkMode ? Colors.GRAY1 : Colors.GRAY5;\n}\n\ntype WelcomeProps = {\n    isVisible: boolean;\n};\n\nconst Welcome: React.FunctionComponent<WelcomeProps> = ({ isVisible }) => {\n    const stateRef = useRef<State>({\n        rotation: defaultRotation,\n        rotationSpeed: 0,\n    });\n    const elementRef = useRef<HTMLDivElement>(null);\n    const { isDarkMode } = useTernaryDarkMode();\n    const fillColorRef = useRef('');\n    // HACK: we don't want to image to flash when switching dark mode\n    fillColorRef.current = getFillColor(isDarkMode);\n\n    useEffect(() => {\n        if (process.env.NODE_ENV === 'test') {\n            // jsdom doesn't support ResizeObserver. don't really need to test animation anyway.\n            return;\n        }\n\n        if (!isVisible) {\n            return;\n        }\n\n        const element = elementRef.current;\n\n        // istanbul ignore if: should not happen\n        if (!element) {\n            console.error('elementRef.current was null!');\n            return;\n        }\n\n        const two = new Two({ fitted: true }).appendTo(element);\n\n        const logo = two.load(logoSvg, (g) => {\n            g.center();\n            two.add(logo);\n            two.play();\n        });\n\n        two.addEventListener('update', (_count, time: number) => {\n            stateRef.current = reduce(stateRef.current, {\n                type: ActionType.Update,\n                timeDelta: time / 1000,\n            });\n\n            logo.fill = fillColorRef.current;\n            logo.scale = Math.min(two.width, two.height) / 80;\n            logo.rotation = stateRef.current.rotation;\n\n            two.scene.position.x = two.width / 2;\n            two.scene.position.y = two.height / 2;\n        });\n\n        const observer = new ResizeObserver(() => {\n            two.fit();\n        });\n\n        observer.observe(element);\n\n        const handleClick = (e: Event) => {\n            e.stopPropagation();\n            e.preventDefault();\n\n            stateRef.current = reduce(stateRef.current, {\n                type: ActionType.Stop,\n            });\n        };\n\n        two.renderer.domElement.addEventListener('pointerdown', handleClick, {\n            capture: true,\n        });\n\n        const handleWheel = (e: Event) => {\n            const we = e as WheelEvent;\n\n            stateRef.current = reduce(stateRef.current, {\n                type: ActionType.ChangeSpeed,\n                amount: rotationSpeedIncrement * Math.sign(-we.deltaY),\n            });\n        };\n\n        two.renderer.domElement.addEventListener('wheel', handleWheel, {\n            passive: true,\n        });\n\n        // this animation is just for fun, screen readers don't need to know about it\n        two.renderer.domElement.setAttribute('aria-hidden', 'true');\n\n        return () => {\n            two.renderer.domElement.removeEventListener('wheel', handleWheel);\n            two.renderer.domElement.removeEventListener('pointerdown', handleClick);\n            observer.disconnect();\n            two.removeEventListener('update');\n            element.removeChild(two.renderer.domElement);\n            two.clear();\n        };\n    }, [isVisible]);\n\n    return (\n        <div\n            className=\"pb-editor-welcome\"\n            ref={elementRef}\n            onContextMenuCapture={(e) => {\n                e.stopPropagation();\n                e.preventDefault();\n            }}\n        />\n    );\n};\n\nexport default Welcome;\n","// SPDX-License-Identifier: MIT\n// Copyright (c) 2022 The Pybricks Authors\n\nimport { useI18n as useShopifyI18n } from '@shopify/react-i18n';\nimport type { TypedI18n } from '../i18n';\nimport type translations from './translations/en.json';\n\nexport function useI18n(): TypedI18n<typeof translations> {\n    // istanbul ignore next: babel-loader rewrites this line\n    const [i18n] = useShopifyI18n();\n    return i18n;\n}\n","// Copied from https://github.com/microsoft/vscode/blob/167b197e767beb791e3d191c24efb97865a98b42/src/vs/workbench/browser/parts/editor/untitledHint.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as monaco from 'monaco-editor';\n\nexport class UntitledHintContribution implements monaco.editor.IEditorContribution {\n    public static readonly ID = 'editor.contrib.untitledHint';\n\n    private toDispose: monaco.IDisposable[];\n    private untitledHintContentWidget: UntitledHintContentWidget | undefined;\n\n    constructor(\n        private readonly editor: monaco.editor.ICodeEditor,\n        private readonly placeholder: string,\n    ) {\n        this.toDispose = [];\n        this.toDispose.push(editor.onDidChangeModel(() => this.update()));\n        this.update();\n    }\n\n    private update(): void {\n        this.untitledHintContentWidget?.dispose();\n        this.untitledHintContentWidget = new UntitledHintContentWidget(\n            this.editor,\n            this.placeholder,\n        );\n    }\n\n    dispose(): void {\n        this.toDispose.forEach((d) => d.dispose());\n        this.untitledHintContentWidget?.dispose();\n    }\n}\n\nclass UntitledHintContentWidget implements monaco.editor.IContentWidget {\n    private static readonly ID = 'editor.widget.untitledHint';\n\n    private domNode: HTMLElement | undefined;\n    private toDispose: monaco.IDisposable[];\n\n    constructor(\n        private readonly editor: monaco.editor.ICodeEditor,\n        private readonly placeholder: string,\n    ) {\n        this.toDispose = [];\n        this.toDispose.push(\n            editor.onDidChangeModelContent(() => this.onDidChangeModelContent()),\n        );\n        this.onDidChangeModelContent();\n    }\n\n    private onDidChangeModelContent(): void {\n        if (this.editor.getValue() === '') {\n            this.editor.addContentWidget(this);\n        } else {\n            this.editor.removeContentWidget(this);\n        }\n    }\n\n    getId(): string {\n        return UntitledHintContentWidget.ID;\n    }\n\n    // Select a language to get started. Start typing to dismiss, or don't show this again.\n    getDomNode(): HTMLElement {\n        if (!this.domNode) {\n            this.domNode = document.createElement('div');\n            this.domNode.textContent = this.placeholder;\n            this.domNode.className = 'pb-editor-placeholder';\n            this.editor.applyFontInfo(this.domNode);\n        }\n\n        return this.domNode;\n    }\n\n    getPosition(): monaco.editor.IContentWidgetPosition | null {\n        return {\n            position: { lineNumber: 1, column: 1 },\n            preference: [<monaco.editor.ContentWidgetPositionPreference.EXACT>0],\n        };\n    }\n\n    dispose(): void {\n        this.editor.removeContentWidget(this);\n        this.toDispose.forEach((d) => d.dispose());\n    }\n}\n","// SPDX-License-Identifier: MIT\n// Copyright (c) 2020-2023 The Pybricks Authors\n\nimport './editor.scss';\nimport {\n    Button,\n    Classes,\n    ContextMenu,\n    Menu,\n    MenuDivider,\n    MenuItem,\n    OverlayLifecycleProps,\n    ResizeSensor,\n    Tab,\n    TabId,\n    Tabs,\n    Text,\n} from '@blueprintjs/core';\nimport {\n    Blank,\n    Clipboard,\n    Cross,\n    Duplicate,\n    Manual,\n    Redo,\n    Undo,\n} from '@blueprintjs/icons';\nimport classNames from 'classnames';\nimport * as monaco from 'monaco-editor';\nimport tomorrowNightEightiesTheme from 'monaco-themes/themes/Tomorrow-Night-Eighties.json';\nimport xcodeTheme from 'monaco-themes/themes/Xcode_default.json';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useId } from 'react-aria';\nimport { useDispatch } from 'react-redux';\nimport { useEffectOnce, useTernaryDarkMode } from 'usehooks-ts';\nimport { UUID } from '../fileStorage';\nimport { useFileStoragePath } from '../fileStorage/hooks';\nimport { compile } from '../mpy/actions';\nimport { useSelector } from '../reducers';\nimport { useSettingIsShowDocsEnabled } from '../settings/hooks';\nimport { isMacOS } from '../utils/os';\nimport Welcome from './Welcome';\nimport { editorActivateFile, editorCloseFile } from './actions';\nimport { useI18n } from './i18n';\nimport * as pybricksMicroPython from './pybricksMicroPython';\nimport { pybricksMicroPythonId } from './pybricksMicroPython';\nimport { UntitledHintContribution } from './untitledHint';\n\nmonaco.languages.register({ id: pybricksMicroPythonId });\n\nconst toDispose = new Array<monaco.IDisposable>();\ntoDispose.push(\n    monaco.languages.setLanguageConfiguration(\n        pybricksMicroPythonId,\n        pybricksMicroPython.conf,\n    ),\n    monaco.languages.setMonarchTokensProvider(\n        pybricksMicroPythonId,\n        pybricksMicroPython.language,\n    ),\n    monaco.languages.registerCompletionItemProvider(\n        pybricksMicroPythonId,\n        pybricksMicroPython.templateSnippetCompletions,\n    ),\n);\n\n// https://webpack.js.org/api/hot-module-replacement/\n// istanbul ignore if: only used for development\nif (module.hot) {\n    module.hot.dispose(() => {\n        toDispose.forEach((s) => s.dispose());\n    });\n}\n\nconst tomorrowNightEightiesId = 'tomorrow-night-eighties';\nmonaco.editor.defineTheme(\n    tomorrowNightEightiesId,\n    tomorrowNightEightiesTheme as monaco.editor.IStandaloneThemeData,\n);\n\nconst xcodeId = 'xcode';\nmonaco.editor.defineTheme(xcodeId, xcodeTheme as monaco.editor.IStandaloneThemeData);\n\ntype EditorContextMenuItemProps = Readonly<{\n    /** The menu item label. */\n    label: string;\n    /** The menu item icon. */\n    icon: JSX.Element;\n    /** The keyboard shortcut that triggers the same action. */\n    keyboardShortcut: string;\n    /** Controls the menu item disabled state. */\n    disabled: boolean;\n    /** A reference to the editor. */\n    editor: monaco.editor.IStandaloneCodeEditor | undefined;\n    /** The action handler ID passed to the editor.trigger() method. */\n    editorAction: string;\n}>;\n\nconst EditorContextMenuItem: React.FunctionComponent<EditorContextMenuItemProps> = ({\n    label,\n    icon,\n    keyboardShortcut,\n    disabled,\n    editor,\n    editorAction,\n}) => {\n    const labelId = useId();\n\n    return (\n        <MenuItem\n            role=\"menuitem\"\n            aria-labelledby={labelId}\n            text={<span id={labelId}>{label}</span>}\n            icon={icon}\n            label={keyboardShortcut}\n            disabled={disabled}\n            onClick={() => {\n                // have to focus first or the trigger won't work\n                editor?.focus();\n                editor?.trigger(null, editorAction, null);\n            }}\n        />\n    );\n};\n\ntype EditorContextMenuProps = {\n    /** The editor. */\n    editor: monaco.editor.IStandaloneCodeEditor | undefined;\n};\n\nconst EditorContextMenu: React.FunctionComponent<EditorContextMenuProps> = ({\n    editor,\n}) => {\n    const i18n = useI18n();\n    const selection = editor?.getSelection();\n    const hasSelection = selection && !selection.isEmpty();\n\n    const model = editor?.getModel();\n    const canUndo = model && model.canUndo();\n    const canRedo = model && model.canRedo();\n\n    return (\n        <Menu aria-label={i18n.translate('contextMenu.label')} role=\"menu\">\n            <EditorContextMenuItem\n                label={i18n.translate('copy')}\n                icon={<Duplicate />}\n                keyboardShortcut={isMacOS() ? 'Cmd-C' : 'Ctrl-C'}\n                disabled={!hasSelection}\n                editor={editor}\n                editorAction=\"editor.action.clipboardCopyAction\"\n            />\n            <EditorContextMenuItem\n                label={i18n.translate('paste')}\n                icon={<Clipboard />}\n                keyboardShortcut={isMacOS() ? 'Cmd-V' : 'Ctrl-V'}\n                disabled={!model}\n                editor={editor}\n                editorAction=\"editor.action.clipboardPasteAction\"\n            />\n            <EditorContextMenuItem\n                label={i18n.translate('selectAll')}\n                icon={<Blank />}\n                keyboardShortcut={isMacOS() ? 'Cmd-A' : 'Ctrl-A'}\n                disabled={!model}\n                editor={editor}\n                editorAction=\"editor.action.selectAll\"\n            />\n            <MenuDivider />\n            <EditorContextMenuItem\n                label={i18n.translate('undo')}\n                icon={<Undo />}\n                keyboardShortcut={isMacOS() ? 'Cmd-Z' : 'Ctrl-Z'}\n                disabled={!canUndo}\n                editor={editor}\n                editorAction=\"undo\"\n            />\n            <EditorContextMenuItem\n                label={i18n.translate('redo')}\n                icon={<Redo />}\n                keyboardShortcut={isMacOS() ? 'Cmd-Shift-Z' : 'Ctrl-Shift-Z'}\n                disabled={!canRedo}\n                editor={editor}\n                editorAction=\"redo\"\n            />\n        </Menu>\n    );\n};\n\ntype FileNameProps = {\n    /** The DOM ID. */\n    id: string;\n    /** The file UUID. */\n    uuid: UUID;\n    /** Called when the file name changes. */\n    onNameChanged: () => void;\n};\n\nconst TabLabel: React.FunctionComponent<FileNameProps> = ({\n    id,\n    uuid,\n    onNameChanged,\n}) => {\n    const fileName = useFileStoragePath(uuid);\n\n    useEffect(() => {\n        onNameChanged?.();\n    }, [fileName, onNameChanged]);\n\n    return (\n        <Text tagName=\"span\" id={id} ellipsize={true}>\n            {fileName}\n        </Text>\n    );\n};\n\ntype TabCloseButtonProps = {\n    /** The file UUID. */\n    uuid: UUID;\n};\n\nconst TabCloseButton: React.FunctionComponent<TabCloseButtonProps> = ({ uuid }) => {\n    const fileName = useFileStoragePath(uuid) ?? '';\n    const dispatch = useDispatch();\n    const i18n = useI18n();\n\n    return (\n        <Button\n            title={i18n.translate('closeFile.tooltip', {\n                fileName,\n            })}\n            minimal={true}\n            small={true}\n            icon={<Cross />}\n            // tabs are closed with delete button by keyboard, so\n            // don't focus the close button\n            tabIndex={-1}\n            onFocus={(e) => e.preventDefault()}\n            onClick={(e) => {\n                dispatch(editorCloseFile(uuid));\n                // prevent triggering Tabs onChange\n                e.stopPropagation();\n            }}\n        />\n    );\n};\n\ntype EditorTabsProps = Readonly<{\n    /** Called when the selected tab changes. */\n    onChange?: () => void;\n}>;\n\nconst EditorTabs: React.FunctionComponent<EditorTabsProps> = ({ onChange }) => {\n    const openFiles = useSelector((s) => s.editor.openFileUuids);\n    const activeFile = useSelector((s) => s.editor.activeFileUuid);\n    const dispatch = useDispatch();\n\n    const handleChange = useCallback(\n        (newTabId: TabId) => {\n            dispatch(editorActivateFile(newTabId as UUID));\n            onChange?.();\n        },\n        [dispatch, onChange],\n    );\n\n    const labelId = useId();\n\n    // close tab when delete key is pressed\n    const handleKeyDown = useCallback(\n        (e: React.KeyboardEvent, uuid: UUID) => {\n            if (e.key === 'Delete') {\n                dispatch(editorCloseFile(uuid));\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        },\n        [dispatch],\n    );\n\n    // close tab when middle-clicked\n    // NB: this has to be on mouse up event to prevent middle-click paste on Linux\n    const handleMouseUp = useCallback(\n        (e: React.MouseEvent, uuid: UUID) => {\n            if (e.button === 1) {\n                dispatch(editorCloseFile(uuid));\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        },\n        [dispatch],\n    );\n\n    const tabsRef = useRef<Tabs>(null);\n\n    // HACK: call private Tabs method to fix selection indicator animation when\n    // a file is renamed\n    const handleNameChanged = useCallback(() => {\n        tabsRef.current?.['moveSelectionIndicator']();\n    }, [tabsRef]);\n\n    const i18n = useI18n();\n\n    useEffect(() => {\n        // @ts-expect-error: using private property\n        const tablist: HTMLDivElement = tabsRef.current?.tablistElement;\n\n        // istanbul-ignore-if: should not happen\n        if (!tablist) {\n            return;\n        }\n\n        tablist.setAttribute('aria-label', i18n.translate('tablist.label'));\n    }, [i18n]);\n\n    return (\n        <Tabs\n            className=\"pb-editor-tablist\"\n            selectedTabId={activeFile || undefined}\n            ref={tabsRef}\n            onChange={handleChange}\n        >\n            {openFiles.map((uuid) => (\n                <Tab\n                    className=\"pb-editor-tablist-tab\"\n                    aria-labelledby={`${labelId}.${uuid}`}\n                    key={uuid}\n                    id={uuid}\n                    onKeyDown={(e) => handleKeyDown(e, uuid)}\n                    onMouseUp={(e) => handleMouseUp(e, uuid)}\n                >\n                    <TabLabel\n                        id={`${labelId}.${uuid}`}\n                        uuid={uuid}\n                        onNameChanged={handleNameChanged}\n                    />\n                    <TabCloseButton uuid={uuid} />\n                </Tab>\n            ))}\n        </Tabs>\n    );\n};\n\n/**\n * Wrapper around useEffect() hook that uses {@link maybeEditor}.\n * @param maybeEditor The editor or undefined if the editor is not mounted.\n * @param callback The callback to call when editor is defined and when {@link deps} change.\n * @param deps Additional dependencies used in the {@link callback}.\n */\nfunction useEditor(\n    maybeEditor: monaco.editor.IStandaloneCodeEditor | undefined,\n    callback: (\n        editor: monaco.editor.IStandaloneCodeEditor,\n    ) => ReturnType<React.EffectCallback>,\n    deps: React.DependencyList,\n): void {\n    useEffect(() => {\n        if (!maybeEditor) {\n            return;\n        }\n\n        return callback(maybeEditor);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [maybeEditor, callback, ...deps]);\n}\n\n/**\n * Hook for adding actions to the editor.\n * @param maybeEditor The editor or undefined if the editor is not mounted.\n * @param createAction A callback to create a new action.\n * @param deps Additional dependencies used in {@link createAction}.\n */\nfunction useEditorAction(\n    maybeEditor: monaco.editor.IStandaloneCodeEditor | undefined,\n    createAction: () => monaco.editor.IActionDescriptor,\n    deps: React.DependencyList,\n): void {\n    useEditor(\n        maybeEditor,\n        (editor) => {\n            const subscription = editor.addAction(createAction());\n            return () => subscription.dispose();\n        },\n        deps,\n    );\n}\n\nconst Editor: React.FunctionComponent = () => {\n    const dispatch = useDispatch();\n\n    const [editor, setEditor] = useState<monaco.editor.IStandaloneCodeEditor>();\n    const { isSettingShowDocsEnabled, toggleIsSettingShowDocsEnabled } =\n        useSettingIsShowDocsEnabled();\n    const { isDarkMode } = useTernaryDarkMode();\n\n    const i18n = useI18n();\n\n    useEffect(() => {\n        monaco.editor.setTheme(isDarkMode ? tomorrowNightEightiesId : xcodeId);\n    }, [isDarkMode]);\n\n    useEditor(\n        editor,\n        (editor) => {\n            const contrib = new UntitledHintContribution(\n                editor,\n                i18n.translate('placeholder'),\n            );\n            return () => contrib.dispose();\n        },\n        [i18n],\n    );\n\n    useEditorAction(\n        editor,\n        () => ({\n            id: 'pybricks.action.toggleDocs',\n            label: i18n.translate('toggleDocs'),\n            run: () => toggleIsSettingShowDocsEnabled(),\n            keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyD],\n        }),\n        [i18n, toggleIsSettingShowDocsEnabled],\n    );\n\n    useEditorAction(\n        editor,\n        () => ({\n            id: 'pybricks.action.check',\n            label: i18n.translate('check'),\n            run: (e) => {\n                // for checking, use the most recent compiler\n                dispatch(compile(e.getValue(), 6, []));\n            },\n            keybindings: [monaco.KeyCode.F2],\n        }),\n        [i18n, dispatch],\n    );\n\n    useEditorAction(\n        editor,\n        () => ({\n            id: 'pybricks.action.save',\n            label: 'Unused',\n            run: () => {\n                // We already automatically save the file after every change,\n                // so CTRL+S is ignored\n                console.debug('Ctrl-S ignored');\n            },\n            keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS],\n        }),\n        [],\n    );\n\n    const popoverProps = useMemo<OverlayLifecycleProps>(\n        () => ({\n            onOpened: (e) => {\n                // a11y: focus the first item in the menu when the menu opens\n                const menuItems = e.getElementsByClassName(Classes.MENU_ITEM);\n\n                const firstItem = menuItems.item(0);\n\n                // istanbul ignore if: should not be reachable\n                if (!(firstItem instanceof HTMLElement)) {\n                    console.error(`bug: firstItem is not an HTMLElement: ${firstItem}`);\n                    return;\n                }\n\n                firstItem.focus();\n            },\n            onClosed: () => editor?.focus(),\n        }),\n        [editor],\n    );\n\n    const editorRef = useRef<HTMLDivElement>(null);\n\n    useEffectOnce(() => {\n        // istanbul ignore if: should never happen\n        if (!editorRef.current) {\n            console.error('no editorRef!');\n            return;\n        }\n\n        const monacoEditor = monaco.editor.create(editorRef.current, {\n            model: null,\n            fontSize: 18,\n            minimap: { enabled: false },\n            contextmenu: false,\n            rulers: [80],\n            lineNumbersMinChars: 4,\n            wordBasedSuggestions: 'off',\n            selectionClipboard: false, // don't copy selection on Linux\n        });\n\n        monacoEditor.focus();\n        setEditor(monacoEditor);\n\n        return () => {\n            setEditor(undefined);\n            monacoEditor.dispose();\n        };\n    });\n\n    const isEmpty = useSelector((s) => s.editor.openFileUuids.length === 0);\n    const { activeFileUuid } = useSelector((s) => s.editor);\n    const fileName = useFileStoragePath(activeFileUuid ?? ('' as UUID));\n\n    return (\n        <div className=\"pb-editor\">\n            <EditorTabs onChange={() => editor?.focus()} />\n            <ResizeSensor onResize={() => editor?.layout()}>\n                <ContextMenu\n                    className={classNames('pb-editor-tabpanel', isEmpty && 'pb-empty')}\n                    role=\"tabpanel\"\n                    aria-label={isEmpty ? i18n.translate('welcome') : fileName}\n                    // NB: we have to create a new context menu each time it is\n                    // shown in order to get some state, like canUndo and canRedo\n                    // that don't have events to monitor changes.\n                    content={() => <EditorContextMenu editor={editor} />}\n                    popoverProps={popoverProps}\n                >\n                    <Welcome isVisible={isEmpty} />\n                    <div className=\"pb-editor-monaco\" ref={editorRef} />\n                </ContextMenu>\n            </ResizeSensor>\n            <Button\n                className=\"pb-editor-doc-button\"\n                minimal\n                large\n                icon={<Manual />}\n                title={\n                    isSettingShowDocsEnabled\n                        ? i18n.translate('docs.hide')\n                        : i18n.translate('docs.show')\n                }\n                onClick={toggleIsSettingShowDocsEnabled}\n            />\n        </div>\n    );\n};\n\nexport default Editor;\n","var map = {\n\t\"./en.json\": 21651\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(id => {\n\t\treturn __webpack_require__.t(id, 3 | 16);;\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn Promise.resolve(/* lazy-once context */).then(() => {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = 1856;\nmodule.exports = webpackAsyncContext;"],"names":["defaultRotation","Math","PI","ActionType","reduce","state","action","type","Stop","rotation","rotationSpeed","ChangeSpeed","amount","Update","timeDelta","_ref","isVisible","stateRef","useRef","elementRef","isDarkMode","useTernaryDarkMode","fillColorRef","current","Colors","GRAY1","GRAY5","getFillColor","useEffect","element","console","error","two","Two","fitted","appendTo","logo","load","logoSvg","g","center","add","play","addEventListener","_count","time","fill","scale","min","width","height","scene","position","x","y","observer","ResizeObserver","fit","observe","handleClick","e","stopPropagation","preventDefault","renderer","domElement","capture","handleWheel","we","sign","deltaY","passive","setAttribute","removeEventListener","disconnect","removeChild","clear","_jsx","className","ref","onContextMenuCapture","useI18n","i18n","useShopifyI18n","id","fallback","_en","translations","locale","indexOf","then","dict","default","UntitledHintContribution","constructor","editor","placeholder","toDispose","untitledHintContentWidget","this","push","onDidChangeModel","update","_this$untitledHintCon","dispose","UntitledHintContentWidget","_this$untitledHintCon2","forEach","d","ID","domNode","onDidChangeModelContent","getValue","addContentWidget","removeContentWidget","getId","getDomNode","document","createElement","textContent","applyFontInfo","getPosition","lineNumber","column","preference","monaco","register","pybricksMicroPythonId","Array","setLanguageConfiguration","pybricksMicroPython","setMonarchTokensProvider","registerCompletionItemProvider","tomorrowNightEightiesId","defineTheme","tomorrowNightEightiesTheme","xcodeId","xcodeTheme","EditorContextMenuItem","label","icon","keyboardShortcut","disabled","editorAction","labelId","useId","MenuItem","role","text","children","onClick","focus","trigger","EditorContextMenu","_ref2","selection","getSelection","hasSelection","isEmpty","model","getModel","canUndo","canRedo","_jsxs","Menu","translate","Duplicate","isMacOS","Clipboard","Blank","MenuDivider","Undo","Redo","TabLabel","_ref3","uuid","onNameChanged","fileName","useFileStoragePath","Text","tagName","ellipsize","TabCloseButton","_ref4","_useFileStoragePath","dispatch","useDispatch","Button","title","minimal","small","Cross","tabIndex","onFocus","editorCloseFile","EditorTabs","_ref5","onChange","openFiles","useSelector","s","openFileUuids","activeFile","activeFileUuid","handleChange","useCallback","newTabId","editorActivateFile","handleKeyDown","key","handleMouseUp","button","tabsRef","handleNameChanged","_tabsRef$current","_tabsRef$current2","tablist","tablistElement","Tabs","selectedTabId","undefined","map","Tab","onKeyDown","onMouseUp","useEditor","maybeEditor","callback","deps","useEditorAction","createAction","subscription","addAction","Editor","setEditor","useState","isSettingShowDocsEnabled","toggleIsSettingShowDocsEnabled","useSettingIsShowDocsEnabled","setTheme","contrib","run","keybindings","CtrlCmd","KeyD","compile","F2","debug","KeyS","popoverProps","useMemo","onOpened","firstItem","getElementsByClassName","Classes","item","HTMLElement","onClosed","editorRef","useEffectOnce","monacoEditor","create","fontSize","minimap","enabled","contextmenu","rulers","lineNumbersMinChars","wordBasedSuggestions","selectionClipboard","length","ResizeSensor","onResize","layout","ContextMenu","classNames","content","Welcome","large","Manual","webpackAsyncContext","req","webpackAsyncContextResolve","__webpack_require__","t","Promise","resolve","o","Error","code","keys","Object","module","exports"],"sourceRoot":""}